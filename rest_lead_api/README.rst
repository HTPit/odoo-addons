=============
Rest Lead API
=============

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-NTSystemWork%2Frest_lead_api-lightgray.png?logo=github
    :target: https://github.com/NTSystemWork/rest_lead_api/tree/11.0/rest_lead_api
    :alt: NTSystemWork/rest_lead_api

|badge1| |badge2| |badge3| 

Using the REST API implemented in the OCA base_rest module, this module allows
inserting leads from external systems to the CRM module.

**Table of contents**

.. contents::
   :local:

Configuration
=============

The api key and the user must be provided in the configuration file under
the section api_key_API_KEY. The key must be in the header of the REST request
and the user must exist in odoo and have the necessary permissions for the crm model.

in odoo.conf add for instance:

.. code-block:: ini

    [api_key_API_KEY]
    key=1234567890
    user=admin

in the REST request add the key in headers

.. code-block:: bash

    curl    -X GET \
            -H "API_KEY: 1234567890" \
            -H "accept: application/json" \
            "http://186.64.120.136:92/v1/private/team/search?name=dontcare"

Usage
=====

GET THE SALES TEAMS AVAILABLE TO CREATE LEADS

NOTE: The name parameter is irrelevant

.. code-block:: bash

    curl    -X GET \
            -H "API_KEY: 1234567890" \
            -H "accept: application/json" \
            "http://186.64.120.136:92/v1/private/team/search?name=dontcare"

CREATE A LEAD IN THE CRM.LEAD MODEL

Fields description:

- name : Text: Required: Short requirement description
- street: Text: Prospect Address
- mobile: Text: Prospect Mobile
- contact_name: Text: Required: Prospect Full Name
- email_from: Text: Required: Prospect Email
- description: Text: Long description of the requirement
- team_id: Integer: Required: Sales Channel ID

.. code-block:: bash

    curl    -X POST \
            -H 'API_KEY: 1234567890' \
            -H 'accept: application/json' \
            -H 'Content-Type: application/json' \
            'http://186.64.120.136:92/v1/private/lead/create' \
            -d '{
                 "name":"I wanted information about xxxx product",
                 "street":"742 Evergreen Terrace, Springfield",
                 "mobile":"1 (971) 762-1052",
                 "contact_name":"Marsh Simpson",
                 "email_from":"michi1234@crostyburg.com",
                 "description":"Wanna have a call with a handsome salesman",
                 "team_id":1
                 }'

SEARCH LEADS BY A PORTION OF NAME

In this example we get all the leads with the word "Need" in the name

.. code-block:: bash

    curl    -X GET \
            -H 'API_KEY: 1234567890' \
            -H "accept: application/json" \
            "http://186.64.120.136:92/v1/private/lead/search?name=Need"

GET ALL SALES TEAMS

.. code-block:: bash

    curl    -X GET \
            -H 'API_KEY: 1234567890' \
            -H "accept: application/json" \
            "http://186.64.120.136:92/v1/private/team/search?name=dontcare"

GET A LEAD BY ID

In this example we get the lead with id=10

.. code-block:: bash

    curl    -X GET \
            -H 'API_KEY: 1234567890' \
            -H "accept: application/json" \
            "http://186.64.120.136:92/v1/private/lead/10/get"

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/NTSystemWork/rest_lead_api/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/NTSystemWork/rest_lead_api/issues/new?body=module:%20rest_lead_api%0Aversion:%2011.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* NTSystemWork

Contributors
~~~~~~~~~~~~

* Jorge Obiols <jorge.obiols@gmail.com>

Maintainers
~~~~~~~~~~~

.. |maintainer-jobiols| image:: https://github.com/jobiols.png?size=40px
    :target: https://github.com/jobiols
    :alt: jobiols

Current maintainer:

|maintainer-jobiols| 

This module is part of the `NTSystemWork/rest_lead_api <https://github.com/NTSystemWork/rest_lead_api/tree/11.0/rest_lead_api>`_ project on GitHub.

You are welcome to contribute.
